<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mysql 5.7 安装 | 给给给给</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/logo.png">
    <meta name="description" content="给给给给&#39;s blog, powered by VuePress, themed by Gungnir.">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.dcb72301.css" as="style"><link rel="preload" href="/assets/js/app.d014eba9.js" as="script"><link rel="preload" href="/assets/js/8.11756a72.js" as="script"><link rel="preload" href="/assets/js/1.1a45cc68.js" as="script"><link rel="preload" href="/assets/js/2.ebd20a1a.js" as="script"><link rel="preload" href="/assets/js/15.d070a990.js" as="script"><link rel="prefetch" href="/assets/js/10.a38452af.js"><link rel="prefetch" href="/assets/js/11.f6ce9eed.js"><link rel="prefetch" href="/assets/js/12.2f944989.js"><link rel="prefetch" href="/assets/js/13.bae178d3.js"><link rel="prefetch" href="/assets/js/14.a4475b46.js"><link rel="prefetch" href="/assets/js/16.f8bcd622.js"><link rel="prefetch" href="/assets/js/17.c2b066a6.js"><link rel="prefetch" href="/assets/js/18.c4553999.js"><link rel="prefetch" href="/assets/js/19.7d900533.js"><link rel="prefetch" href="/assets/js/4.18f74c0b.js"><link rel="prefetch" href="/assets/js/5.72f8511b.js"><link rel="prefetch" href="/assets/js/6.2379528b.js"><link rel="prefetch" href="/assets/js/7.26441829.js"><link rel="prefetch" href="/assets/js/9.1a188328.js">
    <link rel="stylesheet" href="/assets/css/0.styles.dcb72301.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="theme-container" class="theme-container post-container no-sidebar" data-v-cf326a2e><header class="navbar invert" data-v-cf326a2e><a href="/" class="home-link router-link-active"><span class="site-name"> $ cd /home/ </span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M489.2 287.9h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6V146.2c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-6-8-4.6-11.7-4.6v-38c8.3-2 17.1-3.4 25.7-3.4 10.9 0 20.9 4.3 31.4 4.3 4.6 0 27.7-1.1 27.7-8v-60c0-2.6-2-4.6-4.6-4.6-5.1 0-15.1 4.3-24 4.3-9.7 0-20.9-4.3-32.6-4.3-8 0-16 1.1-23.7 2.9v-4.9c5.4-2.6 9.1-8.3 9.1-14.3 0-20.7-31.4-20.8-31.4 0 0 6 3.7 11.7 9.1 14.3v111.7c-3.7 0-11.7-1.4-11.7 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32H128v-32c0-2.6-2-4.6-4.6-4.6H96c-2.6 0-4.6 2-4.6 4.6v178.3H54.8v-32c0-2.6-2-4.6-4.6-4.6H22.8c-2.6 0-4.6 2-4.6 4.6V512h182.9v-96c0-72.6 109.7-72.6 109.7 0v96h182.9V292.5c.1-2.6-1.9-4.6-4.5-4.6zm-288.1-4.5c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64zm146.4 0c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64z"/></svg>
  Home
</a></div><div class="nav-item"><a href="/about/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M256 224c-79.41 0-192 122.76-192 200.25 0 34.9 26.81 55.75 71.74 55.75 48.84 0 81.09-25.08 120.26-25.08 39.51 0 71.85 25.08 120.26 25.08 44.93 0 71.74-20.85 71.74-55.75C448 346.76 335.41 224 256 224zm-147.28-12.61c-10.4-34.65-42.44-57.09-71.56-50.13-29.12 6.96-44.29 40.69-33.89 75.34 10.4 34.65 42.44 57.09 71.56 50.13 29.12-6.96 44.29-40.69 33.89-75.34zm84.72-20.78c30.94-8.14 46.42-49.94 34.58-93.36s-46.52-72.01-77.46-63.87-46.42 49.94-34.58 93.36c11.84 43.42 46.53 72.02 77.46 63.87zm281.39-29.34c-29.12-6.96-61.15 15.48-71.56 50.13-10.4 34.65 4.77 68.38 33.89 75.34 29.12 6.96 61.15-15.48 71.56-50.13 10.4-34.65-4.77-68.38-33.89-75.34zm-156.27 29.34c30.94 8.14 65.62-20.45 77.46-63.87 11.84-43.42-3.64-85.21-34.58-93.36s-65.62 20.45-77.46 63.87c-11.84 43.42 3.64 85.22 34.58 93.36z"/></svg>
  About
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      Search
    </a></div></nav></div></header> <div class="sidebar-mask" data-v-cf326a2e></div> <aside class="sidebar" data-v-cf326a2e><div class="personal-info-wrapper" data-v-cf326a2e><div class="mobile-hero-avatar" data-v-cf326a2e><img src="/img/avatar.jpeg" alt="hero" data-v-cf326a2e></div> <p class="mobile-heading" data-v-cf326a2e>
          艾 略
        </p> <div class="sns-wrapper" data-v-cf326a2e><a href="https://github.com/GeiChan" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-59.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg></svg></a><a href="mailto:wml19970930@gmail.com" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></svg></a>  <!----></div> <hr data-v-cf326a2e></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M489.2 287.9h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6V146.2c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32h-36.6v-32c0-6-8-4.6-11.7-4.6v-38c8.3-2 17.1-3.4 25.7-3.4 10.9 0 20.9 4.3 31.4 4.3 4.6 0 27.7-1.1 27.7-8v-60c0-2.6-2-4.6-4.6-4.6-5.1 0-15.1 4.3-24 4.3-9.7 0-20.9-4.3-32.6-4.3-8 0-16 1.1-23.7 2.9v-4.9c5.4-2.6 9.1-8.3 9.1-14.3 0-20.7-31.4-20.8-31.4 0 0 6 3.7 11.7 9.1 14.3v111.7c-3.7 0-11.7-1.4-11.7 4.6v32h-36.6v-32c0-2.6-2-4.6-4.6-4.6h-27.4c-2.6 0-4.6 2-4.6 4.6v32H128v-32c0-2.6-2-4.6-4.6-4.6H96c-2.6 0-4.6 2-4.6 4.6v178.3H54.8v-32c0-2.6-2-4.6-4.6-4.6H22.8c-2.6 0-4.6 2-4.6 4.6V512h182.9v-96c0-72.6 109.7-72.6 109.7 0v96h182.9V292.5c.1-2.6-1.9-4.6-4.5-4.6zm-288.1-4.5c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64zm146.4 0c0 2.6-2 4.6-4.6 4.6h-27.4c-2.6 0-4.6-2-4.6-4.6v-64c0-2.6 2-4.6 4.6-4.6h27.4c2.6 0 4.6 2 4.6 4.6v64z"/></svg>
  Home
</a></div><div class="nav-item"><a href="/about/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M256 224c-79.41 0-192 122.76-192 200.25 0 34.9 26.81 55.75 71.74 55.75 48.84 0 81.09-25.08 120.26-25.08 39.51 0 71.85 25.08 120.26 25.08 44.93 0 71.74-20.85 71.74-55.75C448 346.76 335.41 224 256 224zm-147.28-12.61c-10.4-34.65-42.44-57.09-71.56-50.13-29.12 6.96-44.29 40.69-33.89 75.34 10.4 34.65 42.44 57.09 71.56 50.13 29.12-6.96 44.29-40.69 33.89-75.34zm84.72-20.78c30.94-8.14 46.42-49.94 34.58-93.36s-46.52-72.01-77.46-63.87-46.42 49.94-34.58 93.36c11.84 43.42 46.53 72.02 77.46 63.87zm281.39-29.34c-29.12-6.96-61.15 15.48-71.56 50.13-10.4 34.65 4.77 68.38 33.89 75.34 29.12 6.96 61.15-15.48 71.56-50.13 10.4-34.65-4.77-68.38-33.89-75.34zm-156.27 29.34c30.94 8.14 65.62-20.45 77.46-63.87 11.84-43.42-3.64-85.21-34.58-93.36s-65.62 20.45-77.46 63.87c-11.84 43.42 3.64 85.22 34.58 93.36z"/></svg>
  About
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      Search
    </a></div></nav> <!----> </aside> <div class="content" data-v-cf326a2e><div class="post-header style-img" style="background-image:url(https://gitee.com/GeiChan/picture/raw/master/img/cover.jpeg);" data-v-4d8a1159><div class="header-mask" style="background:rgba(40, 57, 101, .4);" data-v-4d8a1159></div> <div class="header-content" data-v-4d8a1159><div class="tags" data-v-4d8a1159><span class="tag" data-v-4d8a1159>
        Mysql
      </span></div> <h1 class="title" data-v-4d8a1159>
      Mysql 5.7 安装
    </h1> <h3 class="subtitle" data-v-4d8a1159>
      随便记录一下，能看就行
    </h3> <div class="icons" data-v-4d8a1159><div class="icon" data-v-4d8a1159><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-4d8a1159><path d="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"/></svg> <span data-v-4d8a1159>艾 略</span></div> <div class="icon" data-v-4d8a1159><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-4d8a1159><path d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"/></svg> <span data-v-4d8a1159>2021-04-04</span></div> <div class="icon" data-v-4d8a1159><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-4d8a1159><path fill="none" d="M0 0h24v24H0z"/><path d="M17.618 5.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 11-1.414-1.414zM12 20a7 7 0 100-14 7 7 0 000 14zM11 8h2v6h-2V8zM8 1h8v2H8V1z"/></svg> <span data-v-4d8a1159>5 min</span></div></div></div></div> <main class="page"><!----> <div class="theme-content content__default"><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>本文安装的Mysql 5.7，当然，如果需要更高版本的，可以按照 <code>Step.4</code> 修改文件中的<code>enable</code>的值（1：启用，0：关闭）即可。</p></div> <h2 id="step-1-检查并卸载系统原装mysql"><a href="#step-1-检查并卸载系统原装mysql" class="header-anchor">#</a> Step.1 检查并卸载系统原装MySQL</h2> <ul><li><p>执行命令 <code>rpm -qa | grep mysql</code>，查找系统是否装有 MySQL</p></li> <li><p>若已安装 MySQL，需要停止 MySQL 服务，并删除之前安装的 MySQL</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 停止MySQL服务</span>
systemctl stop mysqld

<span class="token comment"># 删除软件命令（需要删除已有的所有MySQL的rpm包）</span>
<span class="token function">rpm</span> -e --nodeps 包名
</code></pre></div></li> <li><p>删除老版本的 MySQL 目录以及 MySQL 的配置等</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 查找 mysql 相关的目录</span>
<span class="token function">find</span> / -name mysql

<span class="token comment"># 删除老版本mysql的文件</span>
<span class="token function">rm</span> -rf my.cnf 以及 my.cnf.d 的目录
</code></pre></div></li></ul> <h2 id="step-2-yum-设置阿里源-阿里镜像mysql下载快"><a href="#step-2-yum-设置阿里源-阿里镜像mysql下载快" class="header-anchor">#</a> Step.2 yum 设置阿里源 (阿里镜像MySQL下载快)</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 1. 备份原先的镜像文件</span>
<span class="token builtin class-name">cd</span> /etc/yum.repos.d
<span class="token function">mv</span> CentOS-Base.repo CentOS-Base.repo.backup

<span class="token comment"># 2. 下载阿里云的 CentOS-Base.repo 到 /etc/yum.repos.d/ 目录下</span>
<span class="token function">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo	

<span class="token comment"># 3. 清理 yum 软件源缓存</span>
yum clean all

<span class="token comment"># 4. 生成新的 yum 元数据缓存</span>
yum makecache
</code></pre></div><h2 id="step-3-下载配置mysql的rpm包"><a href="#step-3-下载配置mysql的rpm包" class="header-anchor">#</a> Step.3 下载配置MySQL的rpm包</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 自行创建mysql rpm包的存放路径</span>
<span class="token comment"># 1.下载rpm包</span>
<span class="token function">wget</span> https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm

<span class="token comment"># 2.安装myaql源</span>
yum localinstall -y mysql80-community-release-el7-3.noarch.rpm

<span class="token comment"># 3.检查MySQL源是否安装成功，此时查到的安装包的版本都是mysql8.0版本的</span>
yum repolist enabled <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;mysql.*-community.*&quot;</span>
</code></pre></div><p><img src="https://gitee.com/geichan/picture/raw/master/img/mysql%E6%BA%90%E7%9A%84%E5%AE%89%E8%A3%85%E7%BB%93%E6%9E%9C.png" alt=""></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 4.修改yum源配置文件，获取自己想要安装的mysql5.7版本</span>
<span class="token function">vim</span> /etc/yum.repos.d/mysql-community.repo
</code></pre></div><p><img src="https://gitee.com/geichan/picture/raw/master/img/mysql%E6%BA%90%E9%85%8D%E7%BD%AE%E4%BF%AE%E6%94%B9.png" alt=""></p> <p>修改红框中的内容，将 MySQL 5.7 的 <code>enabled=0</code> 改为 <code>enabled=1</code>，将 MySQL 8.0 的 <code>enabled=1</code> 改为 <code>enabled=0</code>，保存退出后，重新执行命令 <code>yum repolist enabled | grep &quot;mysql.*-community.*&quot;</code>，查看当前 MySQL 源版本是否是 5.7</p> <p><img src="https://gitee.com/geichan/picture/raw/master/img/%E4%BF%AE%E6%94%B9%E5%90%8E%E7%9A%84MySQL%E6%BA%90%E7%89%88%E6%9C%AC.png" alt=""></p> <h2 id="step-4-安装mysql"><a href="#step-4-安装mysql" class="header-anchor">#</a> Step.4 安装MySQL</h2> <div class="language-shell extra-class"><pre class="language-shell"><code>yum -y <span class="token function">install</span> mysql-community-server
</code></pre></div><h2 id="step-5-启动mysql服务"><a href="#step-5-启动mysql服务" class="header-anchor">#</a> Step.5 启动MySQL服务</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 1.临时启动mysql服务</span>
systemctl start mysqld

<span class="token comment"># 2.开机启动mysql服务</span>
systemctl <span class="token builtin class-name">enable</span> mysqld

<span class="token comment"># 3.查看MySQL的启动状态</span>
systemctl status mysqld
</code></pre></div><h2 id="step-6-修改mysql本地的root登录密码"><a href="#step-6-修改mysql本地的root登录密码" class="header-anchor">#</a> Step.6 修改MySQL本地的root登录密码</h2> <p>MySQL 安装完成后，在 <code>/var/log/mysqld.log</code> 文件中，可以找到安装 MySQL 时自动生成的 root 密码</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">grep</span> <span class="token string">'temporary password'</span> /var/log/mysqld.log
</code></pre></div><p><img src="https://gitee.com/geichan/picture/raw/master/img/MySQL%E7%9A%84%E9%BB%98%E8%AE%A4root%E5%AF%86%E7%A0%81.png" alt=""></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 1.使用以上找到的密码登录MySQL</span>
mysql -u root -p

<span class="token comment"># 2. 修改root用户密码</span>
ALTER <span class="token environment constant">USER</span> <span class="token string">'root'</span>@<span class="token string">'localhost'</span> IDENTIFIED BY <span class="token string">'Shhex!1324'</span><span class="token punctuation">;</span>

<span class="token comment"># 3. 开启用户远程登录</span>
GRANT ALL PRIVILEGES ON *.* TO <span class="token string">'root'</span>@<span class="token string">'%'</span> IDENTIFIED BY <span class="token string">'Shhex!1324'</span> WITH GRANT OPTION<span class="token punctuation">;</span>
FLUSH PRIVILEGES<span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>如果是开发或者测试环境，建议 在 <code>/etc/my.cnf</code> 中添加一段 <code>validate_password=off</code> ，关闭密码策略。（修改配置文件后，需要重启mysql服务，命令行<code>systemctl restart mysqld</code>）</p></div> <h2 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h2> <p>执行 <code>yum -y install mysql-community-server</code>，如遇以下问题</p> <div class="language- extra-class"><pre class="language-text"><code>源 &quot;MySQL 5.7 Community Server&quot; 的 GPG 密钥已安装，但是不适用于此软件包。请检查源的公钥 URL 是否配置正确。
</code></pre></div><p>官方有说到：</p> <div class="language- extra-class"><pre class="language-text"><code>If you are using RPM 4.1 and it complains about (GPG) NOT OK (MISSING KEYS: GPG#3a79bd29), even though you have imported the MySQL public build key into your own GPG keyring, you need to import the key into the RPM keyring first. RPM 4.1 no longer uses your personal GPG keyring (or GPG itself). Rather, RPM maintains a separate keyring because it is a system-wide application and a user’s GPG public keyring is a user-specific file. To import the MySQL public key into the RPM keyring, first obtain the key, then use rpm --import to import the key
</code></pre></div><p>可以执行一下命令行解决：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">rpm</span> --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/GeiChan/GeiChan-Vuepress/edit/master/docs/posts/2021-04-04-Mysql-5.7-安装.md" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>
      Edit this page on GitHub
    </a></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/7/2022, 7:24:41 AM</span></div></footer> <!----> <div class="pager"><a href="/post/2021/05/01/cdh%E5%AE%89%E8%A3%85/" class="next">
    Next<br> <span>
      CDH安装
    </span></a> <!----></div> <!----></main> <ul class="catalog" style="top:0px !important;" data-v-5487e76a><li class="level-2 toc-link-step-1-检查并卸载系统原装mysql" data-v-5487e76a>Step.1 检查并卸载系统原装MySQL</li><li class="level-2 toc-link-step-2-yum-设置阿里源-阿里镜像mysql下载快" data-v-5487e76a>Step.2 yum 设置阿里源 (阿里镜像MySQL下载快)</li><li class="level-2 toc-link-step-3-下载配置mysql的rpm包" data-v-5487e76a>Step.3 下载配置MySQL的rpm包</li><li class="level-2 toc-link-step-4-安装mysql" data-v-5487e76a>Step.4 安装MySQL</li><li class="level-2 toc-link-step-5-启动mysql服务" data-v-5487e76a>Step.5 启动MySQL服务</li><li class="level-2 toc-link-step-6-修改mysql本地的root登录密码" data-v-5487e76a>Step.6 修改MySQL本地的root登录密码</li><li class="level-2 toc-link-常见问题" data-v-5487e76a>常见问题</li></ul></div> <div class="search-page" data-v-cf326a2e><span class="search-close"><svg aria-hidden="true" width="34.56" height="34.56" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:2.16em;"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></span> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="menu-btn-container" data-v-182018f1 data-v-cf326a2e><div class="menu-btn-wrapper" data-v-182018f1><div class="menu-btn" data-v-182018f1><div class="menu-btn-icon" style="display:;" data-v-182018f1><span data-v-182018f1></span> <span data-v-182018f1></span> <span data-v-182018f1></span></div> <div class="menu-text" style="display:none;" data-v-182018f1>
        0
      </div> <svg class="menu-svg" data-v-182018f1><circle cx="50%" cy="50%" r="48%" class="menu-border" style="stroke-dasharray:0% 314.15926%;" data-v-182018f1></circle></svg></div> <div class="menu-btn-child-wrapper" data-v-182018f1><a role="button" aria-label="Toggle light" title="Toggle light" class="toggle-mode menu-btn-child" data-v-182018f1><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;"><path d="M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"/></svg></a> <div class="menu-btn-child" data-v-182018f1><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-182018f1><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></div> <div class="menu-btn-child" data-v-182018f1><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-182018f1><path d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"/></svg></div> <div class="menu-btn-child menu-toc-btn" data-v-182018f1><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-182018f1><path d="M48 48a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm448 16H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16z"/></svg></div> <div class="menu-btn-child menu-btn-sidebar" data-v-182018f1><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-182018f1><path d="M14 2a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1V3a1 1 0 011-1h12zM2 1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V3a2 2 0 00-2-2H2z"/><path d="M3 4a1 1 0 011-1h2a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V4z"/></svg></div></div></div></div> <div class="footer-wrapper footer" data-v-feff1e00 data-v-cf326a2e><span data-v-feff1e00>
                  &copy; 艾 略 2021-2022
                  <br>
                  Powered by <a href="https://vuepress.vuejs.org" target="_blank">VuePress</a> &
                  <a href="https://github.com/Renovamen/vuepress-theme-gungnir" target="_blank">Gungnir</a>
                </span></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d014eba9.js" defer></script><script src="/assets/js/8.11756a72.js" defer></script><script src="/assets/js/1.1a45cc68.js" defer></script><script src="/assets/js/2.ebd20a1a.js" defer></script><script src="/assets/js/15.d070a990.js" defer></script>
  </body>
</html>
